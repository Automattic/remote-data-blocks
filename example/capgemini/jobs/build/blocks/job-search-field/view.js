import*as e from"@wordpress/interactivity";var t={d:(e,l)=>{for(var r in l)t.o(l,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:l[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const l=(r={getContext:()=>e.getContext,store:()=>e.store},i={},t.d(i,r),i);var r,i;const{actions:o,state:n}=(0,l.store)("remote-data-blocks/capgemini-jobs",{actions:{search:()=>{return e=void 0,t=void 0,r=function*(){var e;const t=yield window.fetch(n.restUrl,{body:JSON.stringify({block_name:n.blockName,query_key:"__DISPLAY__",query_input:Object.assign({search:n.searchTerms},n.selectedFilters.reduce(((e,t)=>(e[t.filter]=t.value,e)),{}))}),headers:{"Content-Type":"application/json"},method:"POST"}),{body:l}=yield t.json();n.jobs=null!==(e=null==l?void 0:l.results.map((e=>{var t,l,r,i,o,n;return{id:null!==(r=null===(l=null===(t=e.result)||void 0===t?void 0:t.id)||void 0===l?void 0:l.value)&&void 0!==r?r:"id",title:null!==(n=null===(o=null===(i=e.result)||void 0===i?void 0:i.title)||void 0===o?void 0:o.value)&&void 0!==n?n:"title"}})))&&void 0!==e?e:[]},new((l=void 0)||(l=Promise))((function(i,o){function n(e){try{a(r.next(e))}catch(e){o(e)}}function s(e){try{a(r.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof l?t:new l((function(e){e(t)}))).then(n,s)}a((r=r.apply(e,t||[])).next())}));var e,t,l,r},updateSearchTerms:e=>{var t,l;n.searchTerms=null!==(l=null===(t=e.target)||void 0===t?void 0:t.value)&&void 0!==l?l:"","keydown"===e.type&&"Enter"===e.key&&o.search()},clearFilter:e=>{n.selectedFilters=n.selectedFilters.filter((t=>t.filter!==e))},clearAllFilters:()=>{n.selectedFilters=[]},toggleFilter:e=>{const t=(0,l.getContext)();e.target.checked?n.selectedFilters.push({filter:e.target.name,value:t.item.value}):n.selectedFilters=n.selectedFilters.filter((l=>l.filter!==e.target.name||l.value!==t.item.value))}},state:{selectedFilters:[]}});